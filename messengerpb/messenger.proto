syntax = "proto3";

option go_package = "./messengerpb";

package messengerpb;

service MessengerService {
    rpc SignUp(SignUpData) returns (UserID) {}
    rpc SignIn(SignInData) returns (UserID) {}
    rpc SendMessage(stream Message) returns (MessageAck) {}
    rpc ReceiveMessage(UserID) returns (stream Message) {}
}

message SignUpData {
    string first_name = 1;
    string second_name = 2;
    SignInData signInData = 3;
}

message SignInData {
    string login = 1;
    string password = 2;
}

message UserID {
    int64 id = 1;
}

message Message {
    UserID sender = 1;
    UserID receiver = 2;
    string message = 3;
}

message MessageAck {
    string status = 1;
}